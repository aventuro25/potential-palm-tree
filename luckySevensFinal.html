<!DOCTYPE html>
<!--
  Name: Angelina
  Date Created: 1/27/19
  Most Recent Revision:1/30/19
-->
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Lucky Sevens</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<style>
body {
  background-color: #f5e9e2;
  color: #0d1f2d;
  margin: 0 auto;
  text-align: center;
}
label {
  font-weight:bold;
}
table, th, td {
  border: 1px solid #773344;
  border-collapse: collapse;
}
table {
  margin: 0 auto;
  text-align: left;
}
</style>
<script>
function rollDice() {
  return Math.floor(Math.random() * 6) +1;
} //this function creates a random number from 1-6

  function luckySevens() {
    var startingBet = document.getElementById('startingBet').value; //this will pull the amount entered number into the textbox from the form
    var die1 = 0;
    var die2 = 0;
    var diceSum = 0;
    var maxWon = 0; //this variable will keep track of the max amount of money won through the loops
    var rolls = 0; //this variable will keep track of the number of rolls through the loops
    var rollsAtMax = 0; //this variable will keep track of the number of rolls that the user was at when they were at the maximum amount of money won.
  if (startingBet <= 0) {
  alert('Starting bet must be greater than $0');
  document.getElementById('startingBet').focus();
} //if a user tries to input 0 dollars or a negative number, the program will trigger an alert
  else{ //otherwise, the program will start a loop to roll dice and bet money
    var gameMoney = startingBet; //gameMoney will be the new variable throughout the loop to keep track of wins and losses
    while (gameMoney > 0) { //the while loop will continue as long as there is more than 0 dollars to bet
      die1 = rollDice();
      die2 = rollDice();
      diceSum = die1 + die2;
      rolls = rolls + 1; //this will increment the number of rolls throughout the loops
      if (diceSum != 7){ //if the dice roll is not equal to 7, the user will lose $1.
        gameMoney = gameMoney - 1;
      }
      else {//if the dice roll is equal to 7, the user will gain $4.
        gameMoney = gameMoney + 4;
        if (gameMoney > maxWon){ //if the use gains $4, the program will test if the current amount of money is larger than previous maximums. if it is, the program will set the maxWon and rollsAtMax to the new values.
          maxWon = maxWon + (gameMoney - maxWon);
          rollsAtMax = rolls;
        }
      }
    }

  }
 document.getElementById("button").innerHTML = "Play again"; //since this is within the luckySevens() function, it will set the "play" button to "play again" once the form is submitted.
 document.getElementById("results").style.display = "block"; //this is necessary to show the table after the function has run.
 document.getElementById("bet").innerHTML = "$" + startingBet; //this will input the starting bet amount into the table.
 document.getElementById("totalRolls").innerHTML =  rolls; //this will input the total number of rolls into the table.
 document.getElementById("maxMoney").innerHTML = "$" + maxWon; //this will input the maximum amount of money won during the game into the table.
 document.getElementById("maxRolls").innerHTML = rollsAtMax; //this will input the number of rolls it took to achieve the maximum amount of money won into the table.
 return false;
}
</script>

</head>
<body>
<header>
<h1>Lucky Sevens</h1>
</header>
<div class="container">
<form onsubmit="return luckySevens();"> <!--this will pull the luckySevens function -->
  <div class="form-group row">
    <div class="col-lg col-md">
    <label for="startingBet" class="col-form-label">Starting bet:</label>
    <input class="col-sm-2" type="number" class="form-control" id="startingBet" placeholder="$0.00" required>
  </div>
</div>
  <div class="form-group row">
    <div class="col-lg col-md">
      <button type="submit" class="btn btn-primary" id="button">Play</button>
  </div>
  </div>
</form>

<hr></hr>

<div class="row">
<table id="results" style="display:none;"> <!--this style function will hide the table until the luckySevens() function is called. -->
  <thead>
    <tr>
      <th colspan="2">Results</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Starting Bet</td>
      <td><span id="bet"></span></td>
    </tr>
    <tr>
      <td>Total Rolls Before Going Broke</td>
      <td><span id="totalRolls"></span></td>
    </tr>
    <tr>
      <td>Highest Amount Won</td>
      <td><span id="maxMoney"></span></td>
    </tr>
    <tr>
      <td>Roll Count at Highest Amount Won</td>
      <td><span id="maxRolls"></span></td>
    </tr>
  </tbody>
</table>
</div>

</div>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

  </body>
  </html>
